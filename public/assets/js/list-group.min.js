var sn_index_fix = function () { 
    var sn_index = 0; 
    $('.list-group-management').find('.sn-index').each(function () { 
        sn_index++;
        $(this).html(sn_index + '.'); 
    }); 
}
sn_index_fix();

$(document).on('click', '.btn-add-item', function (e) {
    e.preventDefault(); 
    $.ajax({
        url: $('.list-group-management form').data('generate'),
        type: 'POST',
        data: {type: $('[name=list_type]:checked').val()},
        success: function (response) { 
            var $parent = $('.list-group-container');
            $parent.append(response.html); 
            $parent.animate({ scrollTop: $parent.prop("scrollHeight")}, 500);
            sn_index_fix();
        }
    });
});
$(document).on('click', '.btn-remove-item', function (e) {
    e.preventDefault(); 
    var $this = $(this);
    Swal.fire({
        title: 'Are you sure?',
        text: "",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, remove it!'
    }).then((result) => {
        if (result.value) {
            $this.parents('.item-content').remove(); 
        }
    });
});
$(document).on('click', '[name=list_type]', function (e) {
    e.preventDefault();
    var $this = $(this);
    Swal.fire({
        title: 'Are you sure?',
        text: "You may loose your list group items if you change the list group type.",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, change it!'
    }).then((result) => {
        if (result.value) {
            $('.item-content').remove(); 
            $('[name=list_type]').prop('checked', false).trigger('change');
            $this.prop('checked', true).trigger('change');
        }
    });
});