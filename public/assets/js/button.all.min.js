$(document).on('click', '.btn-delete', function (e) {
    e.preventDefault();
    var $this = $(this);
    Swal.fire({
        title: 'Are you sure?',
        text: "",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, delete it!'
    }).then((result) => {
        if (result.value) {
            $('form.delete-form-'+$this.data('form')).submit();
        }
    });
});

$(document).on('click', '.btn-restore', function (e) {
    e.preventDefault();
    var $this = $(this);
    Swal.fire({
        title: 'Are you sure?',
        text: "",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, restore it!'
    }).then((result) => {
        if (result.value) {
            $('form.restore-form-'+$this.data('form')).submit();
        }
    });
});

$(document).on('click', '.btn-change-status', function (e) {
    e.preventDefault();
    var $this = $(this);
    Swal.fire({
        title: 'Are you sure?',
        text: "",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, change it!'
    }).then((result) => {
        if (result.value) {
            $.ajax({
                url: $this.data('url'),
                type: 'PUT',
                success: function (response) {
                    if (response == 10) {
                        $this.parents('tr').find('.change-status').html('<strong class="text-success">PUBLISHED</strong>');
                        $this.find('span').html('UNPUBLISH');
                        notify_bar('success', 'The ' + $this.parents('tbody').data('title').toLowerCase() + ' has been published.');
                    }
                    else if (response == 0) {
                        $this.parents('tr').find('.change-status').html('<strong class="text-danger">UNPUBLISHED</strong>');
                        $this.find('span').html('PUBLISH');
                        notify_bar('success', 'The ' + $this.parents('tbody').data('title').toLowerCase() + ' has been unpublished.');
                    }
                    else {
                        notify_reload('error', 'Something went wrong. please try again later.');
                    }
                }
            });
        }
    });
});

$(document).on('click', '.btn-change-update', function (e) {
    e.preventDefault();
    var $this = $(this);
    Swal.fire({
        title: 'Are you sure?',
        text: "",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, update it!'
    }).then((result) => {
        if (result.value) {
            $.ajax({
                url: $this.data('url'),
                type: 'PUT',
                success: function (response) {
                    if (response) {
                        $this.css('display', 'none');
                        notify_bar('success', 'The ' + $this.parents('tbody').data('title').toLowerCase() + ' has been updated.');
                    }
                    else {
                        notify_reload('error', 'Something went wrong. please try again later.');
                    }
                }
            });
        }
    });
});

$(document).on('click', '.btn-change-stock-status', function (e) {
    e.preventDefault();
    var $this = $(this);
    Swal.fire({
        title: 'Are you sure?',
        text: "",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, change it!'
    }).then((result) => {
        if (result.value) {
            $.ajax({
                url: $this.data('url'),
                type: 'PUT',
                success: function (response) {
                    if (response == 10) {
                        $this.parents('tr').find('.change-status').html('<strong class="text-success">OUT OF STOCK</strong>');
                        $this.find('span').html('IN STOCK');
                        notify_bar('success', 'The ' + $this.parents('tbody').data('title').toLowerCase() + ' has been out of stock.');
                    }
                    else if (response == 0) {
                        $this.parents('tr').find('.change-status').html('<strong class="text-danger">IN STOCK</strong>');
                        $this.find('span').html('OUT OF STOCK');
                        notify_bar('success', 'The ' + $this.parents('tbody').data('title').toLowerCase() + ' has stock.');
                    }
                    else {
                        notify_reload('error', 'Something went wrong. please try again later.');
                    }
                }
            });
        }
    });
});

$(document).on('click', '.btn-change-home', function (e) {
    e.preventDefault();
    var $this = $(this);
    Swal.fire({
        title: 'Are you sure?',
        text: "",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, change it!'
    }).then((result) => {
        if (result.value) {
            $('form.home-form-'+$this.data('form')).submit();
        }
    });
});

$(document).on('click', '.btn-publish-form', function (e) {
    e.preventDefault();
    var $this = $(this);
    Swal.fire({
        title: 'Are you sure?',
        text: "",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, publish it!'
    }).then((result) => {
        if (result.value) {
            $('form.publish-form-'+$this.data('form')).submit();
        }
    });
});
